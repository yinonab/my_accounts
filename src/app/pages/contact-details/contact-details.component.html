<!-- רקע כהה שמכסה את המסך -->
<div class="backdrop"></div>

<!-- קונטיינר המודל -->
<section *ngIf="contact$ | async as contact" class="contact-details" evStop (clickOutsideCapture)="onBack()">

  <!-- כותרת וחץ חזור -->
  <section class="contact-header">
    <button (click)="onBack()">
      <img src="../../../assets/images/back.png" alt="go back" />
    </button>
    <h1>Contact Details</h1>
  </section>

  <!-- תמונת איש הקשר -->
  <div class="contact-image-container">
    <img
      [src]="getFieldValue(contact, 'image') ? getFieldValue(contact, 'image') : '../../../assets/images/contact.png'"
      alt="contact-image" />
  </div>

  <!-- פרטי איש הקשר (מציג את כל השדות הדינאמיים) -->
  <div class="contact-fields">
    <p><strong>Name:</strong> {{ contact.name }}</p> <!-- ✅ `name` נשאר שדה קבוע -->
    <ng-container *ngFor="let field of contact.fields">
      <p *ngIf="field.label !== 'image'">
        <strong>{{ field.label }}:</strong> {{ field.value }}
      </p>
    </ng-container>
  </div>

</section>

<router-outlet />